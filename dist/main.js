(()=>{"use strict";const e=()=>location.hash.slice(1).toLocaleLowerCase().split("/")[1]||"/",n=()=>'\n        <div class="error404">\n            <h2>Error 404</h2>\n        </div>\n    ',t={"/":async()=>`\n        <div class="movies">\n            <article class="popularity-movies">\n                <section class="section-title">\n                    <h2>Mas populares</h2>\n                </section>\n                <section class="section-movie">\n                    ${(await(async()=>{try{const e=await fetch("https://api.themoviedb.org/3/discover/movie?api_key=d025ca23bd46fd7c294522ff8c43c05c&sort_by=vote_count.desc");return await e.json()}catch(e){console.log("Fetch Error: ",e)}})()).results.map((e=>`\n                        <div class="movie-item">\n                            <a href="#/${e.id}">\n                                <img src="https://image.tmdb.org/t/p/w500${e.backdrop_path}" class="card-img-top" alt=${e.original_title}>\n                                <h3>${e.original_title}</h3>\n                                <p>Promedio de votos: ${e.vote_average}</p>\n                            </a>\n                        </div>\n                        `)).join("")}\n                </section>\n            </article>\n        </div>\n   `,"/tendencias":async()=>`\n        <div class="movies">\n            <article class="tendencias-movies">\n                <section class="section-title">\n                    <h2>Tendencias</h2>\n                </section>\n                <section class="section-movie">\n                    ${(await(async()=>{try{const e=await fetch("https://api.themoviedb.org/3/trending/movie/week?api_key=d025ca23bd46fd7c294522ff8c43c05c&sort_by=vote_count.desc");return await e.json()}catch(e){console.log("Fetch Error: ",e)}})()).results.map((e=>`\n                        <div class="movie-item">\n                            <a href="#/${e.id}">\n                                <img src="https://image.tmdb.org/t/p/w500${e.backdrop_path}" class="card-img-top" alt=${e.original_title}>\n                                <h3>${e.original_title}</h3>\n                                <p>Promedios de votos: ${e.vote_average}</p>\n                            </a>\n                        </div>\n                       `)).join("")}\n                </section>\n            </article>\n        </div>\n   `,"/:id":async()=>{const n=e(),t=await(async e=>{const n=e?`https://api.themoviedb.org/3/movie/${e}?api_key=d025ca23bd46fd7c294522ff8c43c05c`:Error404;try{const e=await fetch(n);return await e.json()}catch(e){console.log("Fetch Error: ",e)}})(n),i=await(async e=>{const n=`https://api.themoviedb.org/3/movie/${e}/credits?api_key=d025ca23bd46fd7c294522ff8c43c05c`;try{const e=await fetch(n);return await e.json()}catch(e){console.log("Fetch Error: ",e)}})(n);return`\n        <div class ="movie-card">\n            <div class = "movie-img">\n                <img src="https://image.tmdb.org/t/p/w500${t.poster_path}" alt="img" id="card">\n            </div>\n            <div class="movie-info">\n                <h2>${t.original_title}</h2>\n                <p>${t.overview}</p><br>\n                <h3>Year: </h3>\n                <p>${t.release_date}</p><br>\n                <h3>Duration: </h3>\n                <p>${t.runtime} min.</p><br>\n                <h3>Vote Average: </h3>\n                <p>${t.vote_average}</p><br>\n                <h3>Genres: </h3>\n                <p>${t.genres.map((e=>`${e.name}`)).join(", ")}</p><br>\n                <h3>personajes: </h3>\n                <p id="personajes">${i.personajes.map((e=>`${e.name}; `)).join(" ")}</p>\n            </div>\n        </div>\n    `}},i=async()=>{const i=document.getElementById("header"),a=document.getElementById("grid-content");i.innerHTML='\n        <div class="header-main">\n            <div class="header-nav">\n                <h1>\n                    <a href="#/">MovFlix</a>\n                </h1>\n            </div>\n        </div>\n    \n    ';let o=e();console.log("Hash: ",o);let s=await(e=>e.length<=7?"/"===e?e:"/:id":`/${e}`)(o);console.log("Ruta: ",s);let c=t[s]?t[s]:n;a.innerHTML=await c()};window.addEventListener("load",i),window.addEventListener("hashchange",i)})();